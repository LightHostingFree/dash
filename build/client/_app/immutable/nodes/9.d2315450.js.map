{"version":3,"file":"9.d2315450.js","sources":["../../../../../../src/routes/maintainers/[domain]/+page.svelte"],"sourcesContent":["<script>\n\timport { env } from '$env/dynamic/public';\n\n\timport { goto } from '$app/navigation';\n\timport { faSpinner } from '@fortawesome/free-solid-svg-icons';\n\timport { Modal } from '@skeletonlabs/skeleton';\n\timport { modalStore } from '@skeletonlabs/skeleton';\n\n\timport { fade } from 'svelte/transition';\n\timport Fa from 'svelte-fa';\n\texport let data;\n\tconsole.log(data.domain.record);\n\tlet analyticsOpen = false;\n\tlet hosting = data.hosting;\n\tlet analyticsURL;\n</script>\n\n{#if analyticsOpen}\n\t<div\n\t\tclass=\"fixed inset-0 z-50 w-screen h-screen bg-black bg-opacity-50 flex items-center justify-center\"\n\t\tout:fade={{ duration: 150 }}\n\t\tin:fade={{ duration: 150 }}\n\t>\n\t\t<button\n\t\t\tclass=\"absolute top-0 right-2 p-3 text-white text-2xl\"\n\t\t\ton:click={() => {\n\t\t\t\tanalyticsOpen = false;\n\t\t\t}}>âœ•</button\n\t\t>\n\t\t<iframe\n\t\t\tclass=\"w-screen h-screen aspect-video rounded-container-token overflow-hidden\"\n\t\t\tsrc={analyticsURL}\n\t\t\ttitle=\"Analytics\"\n\t\t\tframeborder=\"0\"\n\t\t/>\n\t</div>\n{/if}\n<Modal />\n<h2 class=\"h2\">{data.domain.name}.is-cool.me</h2>\n<br />\n{#if hosting}\n\t<button\n\t\tclass=\"btn variant-filled mb-2\"\n\t\ton:click={() => {\n\t\t\tlet pass = hosting.config.ftp_password;\n\t\t\t//<script defer data-domain=\"{data.domain.name}.is-cool.me\" src=\"{env.PUBLIC_ANALYTICS_URL}/js/script.js\"></script>\n\t\t\tmodalStore.trigger({\n\t\t\t\ttype: 'confirm',\n\t\t\t\tbuttonTextConfirm: 'Online editor',\n\t\t\t\tbuttonTextCancel: 'Close',\n\t\t\t\ttitle: 'How to manage files',\n\t\t\t\tresponse: (r) => {\n\t\t\t\t\tconsole.log('response:', r);\n\t\t\t\t\tif (r) {\n\t\t\t\t\t\twindow.open('https://files.hosts.is-cool.me/');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tbody: `To manage files you can use our online file editor or you can connect using FTP using the following credentials:\n\t\t\t<br /><br />\n\t\t\t<code>Host: hosts.is-cool.me</code><br />\n\t\t\t<code>Port: 21</code><br />\n\t\t\t<code>Username: ${data.domain.name}</code><br />\n\t\t\t<code>Password: ${pass}</code><br />\n\t\t\t<code>FTP Enabled: ${hosting.config.ftp}</code>\n`\n\t\t\t});\n\t\t}}\n\t>\n\t\tManage files\n\t</button>\n{/if}\n<br />\n<button class=\"btn variant-filled mb-2\" on:click={() => goto(`/domains/${data.domain.name}/edit`)}>\n\tEdit Record(s)\n</button>\n{#if !hosting}\n\t<br />\n\t<p>HOSTING IS DISABLED ON STAFF DOMAINS</p>\n\t<br />\n\t<button\n\t\tclass=\"btn variant-filled mb-2\"\n\t\ton:click={() => goto(`/domains/${data.domain.name}/delete`)}\n\t>\n\t\tDelete domain\n\t</button>\n{/if}\n\n<button\n\tclass=\"btn variant-filled\"\n\ton:click={async () => {\n\t\tlet analyticsResponse = await fetch(`/api/maintainers/${data.domain.name}/analytics`).then(\n\t\t\t(r) => r.json()\n\t\t);\n\t\tif (analyticsResponse.url) {\n\t\t\tanalyticsURL = analyticsResponse.url;\n\t\t\tanalyticsOpen = true;\n\t\t} else\n\t\t\tmodalStore.trigger({\n\t\t\t\ttype: 'alert',\n\t\t\t\ttitle: 'Analytics not available',\n\t\t\t\tbody: analyticsResponse.error\n\t\t\t});\n\t}}\n>\n\tAnalytics\n</button>\n<button\n\tclass=\"text-sm text-gray-500 mt-2\"\n\ton:click={() => {\n\t\t//<script defer data-domain=\"{data.domain.name}.is-cool.me\" src=\"{env.PUBLIC_ANALYTICS_URL}/js/script.js\"></script>\n\t\tmodalStore.trigger({\n\t\t\ttype: 'alert',\n\t\t\ttitle: 'How to set up analytics',\n\t\t\tbody: `To set up analytics, you need to add the following HTML code to your website: <br /><br /><code>&lt;script defer data-domain=\"${data.domain.name}.is-cool.me\" src=\"${env.PUBLIC_ANALYTICS_URL}/js/script.js\"&gt;&lt;/script&gt;</code>`\n\t\t});\n\t}}\n>\n\thow to set up analytics\n</button>\n"],"names":["click_handler_2","goto","data","click_handler_3","analyticsResponse","r","analyticsURL","$$invalidate","analyticsOpen","modalStore","env","hosting","pass","ctx","attr","iframe","iframe_src_value","insert_hydration","target","div","anchor","append_hydration","button","div_intro","create_in_transition","fade","div_outro","create_out_transition","br0","p","br1","create_if_block_2","create_if_block_1","create_if_block","h2","button0","button1","button2","set_data","t2","t2_value","if_block1","dirty","if_block2","$$props"],"mappings":"ytBA2BM,GAAC,oHAAD,GAAC,yRAICa,EAAY,CAAA,CAAA,GAAAC,EAAAC,EAAA,MAAAC,CAAA,sKAbnBC,EAiBKC,EAAAC,EAAAC,CAAA,EAZJC,EAKAF,EAAAG,CAAA,gBACAD,EAKCF,EAAAJ,CAAA,kEAHKF,EAAY,CAAA,CAAA,mDAVPU,EAAAC,GAAAL,EAAAM,EAAA,CAAA,SAAU,GAAG,CAAA,6CADZC,EAAAC,GAAAR,EAAAM,EAAA,CAAA,SAAU,GAAG,CAAA,sGA+C1B,cAEA,6DAFA,cAEA,4EA5BAR,EA4BQC,EAAAI,EAAAF,CAAA,qJAQL,sCAAoC,0CAKvC,eAEA,sEAPG,sCAAoC,wFAKvC,eAEA,4EARAH,EAAKC,EAAAU,EAAAR,CAAA,WACLH,EAA0CC,EAAAW,EAAAT,CAAA,kBAC1CH,EAAKC,EAAAY,EAAAV,CAAA,WACLH,EAKQC,EAAAI,EAAAF,CAAA,iJA9COP,EAAI,CAAA,EAAC,OAAO,KAAI,6CArB3BA,EAAa,CAAA,GAAAkB,EAAAlB,CAAA,qBAuBbA,EAAO,CAAA,GAAAmB,GAAAnB,CAAA,KAmCNA,EAAO,CAAA,GAAAoB,GAAApB,CAAA,yEArCoB,aAAW,yEAkCsD,gBAElG,yCA6BA,WAEA,0BAWA,yBAEA,8GAhFiC,aAAW,+HAkCsD,gBAElG,mFA6BA,WAEA,kEAWA,yBAEA,kNAhFAI,EAAgDC,EAAAgB,EAAAd,CAAA,yBAChDH,EAAKC,EAAAU,EAAAR,CAAA,gCAgCLH,EAAKC,EAAAY,EAAAV,CAAA,WACLH,EAEQC,EAAAiB,EAAAf,CAAA,uCAaRH,EAkBQC,EAAAkB,EAAAhB,CAAA,kBACRH,EAYQC,EAAAmB,EAAAjB,CAAA,4FArGHP,EAAa,CAAA,4HAqBFA,EAAI,CAAA,EAAC,OAAO,KAAI,KAAAyB,GAAAC,EAAAC,CAAA,EAE3B3B,EAAO,CAAA,GAAA4B,EAAA,EAAA5B,EAAA6B,CAAA,EAmCN7B,EAAO,CAAA,GAAA8B,EAAA,EAAA9B,EAAA6B,CAAA,qRAjED,KAAAxC,CAAI,EAAA0C,EACf,QAAQ,IAAI1C,EAAK,OAAO,MAAM,EAC1B,IAAAM,EAAgB,GAChBG,EAAUT,EAAK,QACfI,eAYDC,EAAA,EAAAC,EAAgB,EAAK,UAkBlB,IAAAI,EAAOD,EAAQ,OAAO,aAE1BF,EAAW,QAAO,CACjB,KAAM,UACN,kBAAmB,gBACnB,iBAAkB,QAClB,MAAO,sBACP,SAAWJ,GAAC,CACX,QAAQ,IAAI,YAAaA,CAAC,EACtBA,GACH,OAAO,KAAK,iCAAiC,GAG/C,KAAI;AAAA;AAAA;AAAA;AAAA,qBAIaH,EAAK,OAAO,IAAI;AAAA,qBAChBU,CAAI;AAAA,wBACDD,EAAQ,OAAO,GAAG;AAAA,KAScX,EAAA,IAAAC,EAAiB,YAAAC,EAAK,OAAO,IAAI,OAAA,EASvEC,EAAA,IAAAF,EAAiB,YAAAC,EAAK,OAAO,IAAI,SAAA,cAS7C,IAAAE,EAA0B,MAAA,MAA0B,oBAAAF,EAAK,OAAO,IAAI,YAAA,EAAc,KACpFG,GAAMA,EAAE,KAAI,CAAA,EAEVD,EAAkB,SACrBE,EAAeF,EAAkB,GAAG,EACpCG,EAAA,EAAAC,EAAgB,EAAI,GAEpBC,EAAW,QAAO,CACjB,KAAM,QACN,MAAO,0BACP,KAAML,EAAkB,gBAU1BK,EAAW,QAAO,CACjB,KAAM,QACN,MAAO,0BACP,KAAI,iIAAmIP,EAAK,OAAO,IAAI,qBAAqBQ,GAAI,oBAAoB"}