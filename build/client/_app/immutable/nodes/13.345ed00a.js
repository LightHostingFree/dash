import{S as te,i as se,s as ae,k as h,q as M,a as k,e as X,l as m,m as y,r as L,h as u,c as E,n as b,b as P,D as f,a1 as W,o as le,ag as oe,_ as re,af as Z,a9 as $,L as F,aj as ne,V as ie,N as ce,u as ue,ak as de}from"../chunks/index.c676ab83.js";import{m as fe}from"../chunks/stores.848b0f50.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.314e35e5.js";import"../chunks/sentry-release-injection-file.7de3efab.js";function x(d,e,t){const l=d.slice();return l[2]=e[t].domain,l[8]=e[t].record,l}function pe(d){let e,t,l,p;return{c(){e=h("p"),t=M("You have no domains yet. "),l=h("a"),p=M("Let's change that!"),this.h()},l(i){e=m(i,"P",{class:!0});var a=y(e);t=L(a,"You have no domains yet. "),l=m(a,"A",{href:!0});var r=y(l);p=L(r,"Let's change that!"),r.forEach(u),a.forEach(u),this.h()},h(){b(l,"href","/register"),b(e,"class","text-center")},m(i,a){P(i,e,a),f(e,t),f(e,l),f(l,p)},p:W,d(i){i&&u(e)}}}function _e(d){let e,t,l,p,i,a,r=[],w=new Map,_,s,n,g,j,S,C,N,R,A,B,H,T,q,I,Y,O=d[0].domains;const D=o=>o[2];for(let o=0;o<O.length;o+=1){let c=x(d,O,o),v=D(c);w.set(v,r[o]=ee(v,c))}return{c(){e=h("form"),t=h("label"),l=h("span"),p=M("Select a domain"),i=k(),a=h("select");for(let o=0;o<r.length;o+=1)r[o].c();_=k(),s=h("label"),n=h("span"),g=M("Set a SMTP password"),j=k(),S=h("input"),C=k(),N=h("button"),R=M("Save Password"),A=k(),B=h("br"),H=k(),T=h("button"),q=M("How to use SMTP"),this.h()},l(o){e=m(o,"FORM",{});var c=y(e);t=m(c,"LABEL",{class:!0});var v=y(t);l=m(v,"SPAN",{class:!0});var G=y(l);p=L(G,"Select a domain"),G.forEach(u),i=E(v),a=m(v,"SELECT",{class:!0});var V=y(a);for(let J=0;J<r.length;J+=1)r[J].l(V);V.forEach(u),v.forEach(u),_=E(c),s=m(c,"LABEL",{class:!0});var U=y(s);n=m(U,"SPAN",{class:!0});var z=y(n);g=L(z,"Set a SMTP password"),z.forEach(u),j=E(U),S=m(U,"INPUT",{class:!0,type:!0,placeholder:!0}),U.forEach(u),C=E(c),N=m(c,"BUTTON",{type:!0,class:!0});var K=y(N);R=L(K,"Save Password"),K.forEach(u),c.forEach(u),A=E(o),B=m(o,"BR",{}),H=E(o),T=m(o,"BUTTON",{class:!0});var Q=y(T);q=L(Q,"How to use SMTP"),Q.forEach(u),this.h()},h(){b(l,"class","text-center"),b(a,"class","input"),d[2]===void 0&&re(()=>d[4].call(a)),b(t,"class","label center"),b(n,"class","text-center"),b(S,"class","input"),b(S,"type","password"),b(S,"placeholder","Password Here please"),b(s,"class","label center"),b(N,"type","submit"),b(N,"class","btn variant-filled"),b(T,"class","btn variant-filled mb-2")},m(o,c){P(o,e,c),f(e,t),f(t,l),f(l,p),f(t,i),f(t,a);for(let v=0;v<r.length;v+=1)r[v]&&r[v].m(a,null);Z(a,d[2],!0),f(e,_),f(e,s),f(s,n),f(n,g),f(s,j),f(s,S),$(S,d[1]),f(e,C),f(e,N),f(N,R),P(o,A,c),P(o,B,c),P(o,H,c),P(o,T,c),f(T,q),I||(Y=[F(a,"change",d[4]),F(S,"input",d[5]),F(e,"submit",ne(d[3])),F(T,"click",d[6])],I=!0)},p(o,c){c&1&&(O=o[0].domains,r=ie(r,c,D,1,o,O,w,a,de,ee,null,x)),c&5&&Z(a,o[2]),c&2&&S.value!==o[1]&&$(S,o[1])},d(o){o&&u(e);for(let c=0;c<r.length;c+=1)r[c].d();o&&u(A),o&&u(B),o&&u(H),o&&u(T),I=!1,ce(Y)}}}function ee(d,e){let t,l=e[2]+"",p,i;return{key:d,first:null,c(){t=h("option"),p=M(l),this.h()},l(a){t=m(a,"OPTION",{});var r=y(t);p=L(r,l),r.forEach(u),this.h()},h(){t.__value=i=e[2],t.value=t.__value,this.first=t},m(a,r){P(a,t,r),f(t,p)},p(a,r){e=a,r&1&&l!==(l=e[2]+"")&&ue(p,l),r&1&&i!==(i=e[2])&&(t.__value=i,t.value=t.__value)},d(a){a&&u(t)}}}function he(d){let e,t,l,p,i,a;function r(s,n){return s[0]&&s[0].domains&&s[0].domains.length>0?_e:pe}let w=r(d),_=w(d);return{c(){e=h("h2"),t=M("SMTP settings"),l=k(),p=h("br"),i=k(),_.c(),a=X(),this.h()},l(s){e=m(s,"H2",{class:!0});var n=y(e);t=L(n,"SMTP settings"),n.forEach(u),l=E(s),p=m(s,"BR",{}),i=E(s),_.l(s),a=X(),this.h()},h(){b(e,"class","h2")},m(s,n){P(s,e,n),f(e,t),P(s,l,n),P(s,p,n),P(s,i,n),_.m(s,n),P(s,a,n)},p(s,[n]){w===(w=r(s))&&_?_.p(s,n):(_.d(1),_=w(s),_&&(_.c(),_.m(a.parentNode,a)))},i:W,o:W,d(s){s&&u(e),s&&u(l),s&&u(p),s&&u(i),_.d(s),s&&u(a)}}}function me(d,e,t){let{data:l}=e,p=l.JWT,i="",a="";console.log(l.domains);const r=async()=>{try{const n="https://hosts.is-cool.me/api/SMTP?jwt="+p+"&password="+i+"&domain="+a+"&action=save";(await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}})).ok?(console.log("Password saved successfully"),alert("Password saved successfully")):(alert("Failed to save password"),console.error("Failed to save password"))}catch(n){console.error("An error occurred:",n)}};le(()=>{});function w(){a=oe(this),t(2,a),t(0,l)}function _(){i=this.value,t(1,i)}const s=()=>{fe.trigger({type:"alert",title:"How to use SMTP",body:`To connect to our SMTP server, you can use the following settings:
                <br /><br />
                <code>Host: hosts.is-cool.me</code><br />
                <code>Port: 25</code><br />
                <code>Email: anything @ your subdomain .is-cool.me</code><br />
                <code>Username: domain without the .is-cool.me part</code><br />
                <code>Password: Set by User</code><br />
    `})};return d.$$set=n=>{"data"in n&&t(0,l=n.data)},[l,i,a,r,w,_,s]}class Se extends te{constructor(e){super(),se(this,e,me,he,ae,{data:0})}}export{Se as component};
//# sourceMappingURL=13.345ed00a.js.map
