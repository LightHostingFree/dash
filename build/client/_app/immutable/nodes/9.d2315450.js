import{S as tt,i as et,s as lt,a as w,y as st,k as T,q as I,c as E,z as it,l as k,m as B,r as $,h as s,n as N,b as f,A as ot,D as A,L as U,g as P,d as G,f as at,u as rt,B as nt,N as ft,a3 as W,_ as ct,$ as ut,a0 as mt,a1 as g,v as _t}from"../chunks/index.c676ab83.js";import{e as dt}from"../chunks/public.e27fc8de.js";import{g as X}from"../chunks/navigation.ddd6bc37.js";import{m as V}from"../chunks/stores.848b0f50.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.314e35e5.js";import{f as Z}from"../chunks/index.3cde08c5.js";import{M as bt}from"../chunks/Modal.43f3f8c9.js";import"../chunks/sentry-release-injection-file.7de3efab.js";function x(_){let l,a,r,c,o,u,y,m,p,v,h;return{c(){l=T("div"),a=T("button"),r=I("✕"),c=w(),o=T("iframe"),this.h()},l(e){l=k(e,"DIV",{class:!0});var i=B(l);a=k(i,"BUTTON",{class:!0});var b=B(a);r=$(b,"✕"),b.forEach(s),c=E(i),o=k(i,"IFRAME",{class:!0,src:!0,title:!0,frameborder:!0}),B(o).forEach(s),i.forEach(s),this.h()},h(){N(a,"class","absolute top-0 right-2 p-3 text-white text-2xl"),N(o,"class","w-screen h-screen aspect-video rounded-container-token overflow-hidden"),W(o.src,u=_[2])||N(o,"src",u),N(o,"title","Analytics"),N(o,"frameborder","0"),N(l,"class","fixed inset-0 z-50 w-screen h-screen bg-black bg-opacity-50 flex items-center justify-center")},m(e,i){f(e,l,i),A(l,a),A(a,r),A(l,c),A(l,o),p=!0,v||(h=U(a,"click",_[4]),v=!0)},p(e,i){(!p||i&4&&!W(o.src,u=e[2]))&&N(o,"src",u)},i(e){p||(ct(()=>{p&&(m&&m.end(1),y=ut(l,Z,{duration:150}),y.start())}),p=!0)},o(e){y&&y.invalidate(),m=mt(l,Z,{duration:150}),p=!1},d(e){e&&s(l),e&&m&&m.end(),v=!1,h()}}}function pt(_){let l,a,r,c;return{c(){l=T("button"),a=I("Manage files"),this.h()},l(o){l=k(o,"BUTTON",{class:!0});var u=B(l);a=$(u,"Manage files"),u.forEach(s),this.h()},h(){N(l,"class","btn variant-filled mb-2")},m(o,u){f(o,l,u),A(l,a),r||(c=U(l,"click",_[5]),r=!0)},p:g,d(o){o&&s(l),r=!1,c()}}}function yt(_){let l,a,r,c,o,u,y,m,p,v,h;return{c(){l=T("br"),a=w(),r=T("p"),c=I("HOSTING IS DISABLED ON STAFF DOMAINS"),o=w(),u=T("br"),y=w(),m=T("button"),p=I("Delete domain"),this.h()},l(e){l=k(e,"BR",{}),a=E(e),r=k(e,"P",{});var i=B(r);c=$(i,"HOSTING IS DISABLED ON STAFF DOMAINS"),i.forEach(s),o=E(e),u=k(e,"BR",{}),y=E(e),m=k(e,"BUTTON",{class:!0});var b=B(m);p=$(b,"Delete domain"),b.forEach(s),this.h()},h(){N(m,"class","btn variant-filled mb-2")},m(e,i){f(e,l,i),f(e,a,i),f(e,r,i),A(r,c),f(e,o,i),f(e,u,i),f(e,y,i),f(e,m,i),A(m,p),v||(h=U(m,"click",_[7]),v=!0)},p:g,d(e){e&&s(l),e&&s(a),e&&s(r),e&&s(o),e&&s(u),e&&s(y),e&&s(m),v=!1,h()}}}function vt(_){let l,a,r,c,o=_[0].domain.name+"",u,y,m,p,v,h,e,i,b,C,M,F,D,j,H,R,q,L,z,Y,d=_[1]&&x(_);a=new bt({});let O=_[3]&&pt(_),S=!_[3]&&yt(_);return{c(){d&&d.c(),l=w(),st(a.$$.fragment),r=w(),c=T("h2"),u=I(o),y=I(".is-cool.me"),m=w(),p=T("br"),v=w(),O&&O.c(),h=w(),e=T("br"),i=w(),b=T("button"),C=I("Edit Record(s)"),M=w(),S&&S.c(),F=w(),D=T("button"),j=I("Analytics"),H=w(),R=T("button"),q=I("how to set up analytics"),this.h()},l(t){d&&d.l(t),l=E(t),it(a.$$.fragment,t),r=E(t),c=k(t,"H2",{class:!0});var n=B(c);u=$(n,o),y=$(n,".is-cool.me"),n.forEach(s),m=E(t),p=k(t,"BR",{}),v=E(t),O&&O.l(t),h=E(t),e=k(t,"BR",{}),i=E(t),b=k(t,"BUTTON",{class:!0});var J=B(b);C=$(J,"Edit Record(s)"),J.forEach(s),M=E(t),S&&S.l(t),F=E(t),D=k(t,"BUTTON",{class:!0});var K=B(D);j=$(K,"Analytics"),K.forEach(s),H=E(t),R=k(t,"BUTTON",{class:!0});var Q=B(R);q=$(Q,"how to set up analytics"),Q.forEach(s),this.h()},h(){N(c,"class","h2"),N(b,"class","btn variant-filled mb-2"),N(D,"class","btn variant-filled"),N(R,"class","text-sm text-gray-500 mt-2")},m(t,n){d&&d.m(t,n),f(t,l,n),ot(a,t,n),f(t,r,n),f(t,c,n),A(c,u),A(c,y),f(t,m,n),f(t,p,n),f(t,v,n),O&&O.m(t,n),f(t,h,n),f(t,e,n),f(t,i,n),f(t,b,n),A(b,C),f(t,M,n),S&&S.m(t,n),f(t,F,n),f(t,D,n),A(D,j),f(t,H,n),f(t,R,n),A(R,q),L=!0,z||(Y=[U(b,"click",_[6]),U(D,"click",_[8]),U(R,"click",_[9])],z=!0)},p(t,[n]){t[1]?d?(d.p(t,n),n&2&&P(d,1)):(d=x(t),d.c(),P(d,1),d.m(l.parentNode,l)):d&&(_t(),G(d,1,1,()=>{d=null}),at()),(!L||n&1)&&o!==(o=t[0].domain.name+"")&&rt(u,o),t[3]&&O.p(t,n),t[3]||S.p(t,n)},i(t){L||(P(d),P(a.$$.fragment,t),L=!0)},o(t){G(d),G(a.$$.fragment,t),L=!1},d(t){d&&d.d(t),t&&s(l),nt(a,t),t&&s(r),t&&s(c),t&&s(m),t&&s(p),t&&s(v),O&&O.d(t),t&&s(h),t&&s(e),t&&s(i),t&&s(b),t&&s(M),S&&S.d(t),t&&s(F),t&&s(D),t&&s(H),t&&s(R),z=!1,ft(Y)}}}function Tt(_,l,a){let{data:r}=l;console.log(r.domain.record);let c=!1,o=r.hosting,u;const y=()=>{a(1,c=!1)},m=()=>{let i=o.config.ftp_password;V.trigger({type:"confirm",buttonTextConfirm:"Online editor",buttonTextCancel:"Close",title:"How to manage files",response:b=>{console.log("response:",b),b&&window.open("https://files.hosts.is-cool.me/")},body:`To manage files you can use our online file editor or you can connect using FTP using the following credentials:
			<br /><br />
			<code>Host: hosts.is-cool.me</code><br />
			<code>Port: 21</code><br />
			<code>Username: ${r.domain.name}</code><br />
			<code>Password: ${i}</code><br />
			<code>FTP Enabled: ${o.config.ftp}</code>
`})},p=()=>X(`/domains/${r.domain.name}/edit`),v=()=>X(`/domains/${r.domain.name}/delete`),h=async()=>{let i=await fetch(`/api/maintainers/${r.domain.name}/analytics`).then(b=>b.json());i.url?(a(2,u=i.url),a(1,c=!0)):V.trigger({type:"alert",title:"Analytics not available",body:i.error})},e=()=>{V.trigger({type:"alert",title:"How to set up analytics",body:`To set up analytics, you need to add the following HTML code to your website: <br /><br /><code>&lt;script defer data-domain="${r.domain.name}.is-cool.me" src="${dt.PUBLIC_ANALYTICS_URL}/js/script.js"&gt;&lt;/script&gt;</code>`})};return _.$$set=i=>{"data"in i&&a(0,r=i.data)},[r,c,u,o,y,m,p,v,h,e]}class St extends tt{constructor(l){super(),et(this,l,Tt,vt,lt,{data:0})}}export{St as component};
//# sourceMappingURL=9.d2315450.js.map
