{"version":3,"file":"Table.e27a227b.js","sources":["../../../../../../node_modules/@skeletonlabs/skeleton/dist/utilities/DataTable/actions.js","../../../../../../node_modules/@skeletonlabs/skeleton/dist/components/Table/Table.svelte"],"sourcesContent":["// Shared Data/Table Actions\n// Data Table (only) ---\n/** Svelte Action for applying sort asc/dsc classes. */\nexport function tableInteraction(node) {\n    const classAsc = 'table-sort-asc';\n    const classDsc = 'table-sort-dsc';\n    // Click Handler\n    const onClick = (e) => {\n        if (!(e.target instanceof Element))\n            return;\n        const sortTarget = e.target;\n        // Get target state before modification\n        const targetAscSorted = sortTarget.classList.contains(classAsc);\n        const sortTargetKey = sortTarget.getAttribute('data-sort');\n        // Clear asc class\n        const elemAsc = node.querySelector(`.${classAsc}`);\n        if (elemAsc)\n            elemAsc.classList.remove(classAsc);\n        // Clear dsc class\n        const elemDsc = node.querySelector(`.${classDsc}`);\n        if (elemDsc)\n            elemDsc.classList.remove(classDsc);\n        // Set new sort class\n        if (sortTargetKey) {\n            const classToApply = targetAscSorted ? classDsc : classAsc;\n            e.target.classList.add(classToApply);\n        }\n    };\n    // Events\n    node.addEventListener('click', onClick);\n    // Lifecycle\n    return {\n        destroy() {\n            node.removeEventListener('click', onClick);\n        }\n    };\n}\n// Shared ---\n/** Svelte Action for handling table a11y keyboard interactions. */\nexport function tableA11y(node) {\n    const keyWhitelist = ['ArrowRight', 'ArrowUp', 'ArrowLeft', 'ArrowDown', 'Home', 'End'];\n    // on:keydown\n    const onKeyDown = (event) => {\n        // console.log('keydown triggered');\n        if (keyWhitelist.includes(event.code)) {\n            event.preventDefault();\n            // prettier-ignore\n            switch (event.code) {\n                case 'ArrowUp':\n                    a11ySetActiveCell(node, 0, -1);\n                    break;\n                case 'ArrowDown':\n                    a11ySetActiveCell(node, 0, 1);\n                    break;\n                case 'ArrowLeft':\n                    a11ySetActiveCell(node, -1, 0);\n                    break;\n                case 'ArrowRight':\n                    a11ySetActiveCell(node, 1, 0);\n                    break;\n                case 'Home':\n                    a11yJumpToOuterColumn(node, 'first');\n                    break;\n                case 'End':\n                    a11yJumpToOuterColumn(node, 'last');\n                    break;\n                default: break;\n            }\n        }\n    };\n    // Event Listener\n    node.addEventListener('keydown', onKeyDown);\n    // Lifecycle\n    return {\n        destroy() {\n            node.removeEventListener('keydown', onKeyDown);\n        }\n    };\n}\nfunction a11ySetActiveCell(node, x, y) {\n    // Focused Element\n    const focusedElem = document.activeElement;\n    if (!focusedElem || !focusedElem.parentElement || !focusedElem.parentElement.ariaRowIndex || !focusedElem.ariaColIndex)\n        return;\n    const focusedElemRowIndex = parseInt(focusedElem.parentElement.ariaRowIndex);\n    const focusedElemColIndex = parseInt(focusedElem.ariaColIndex);\n    // Target Element\n    const targetRowElement = node.querySelector(`[aria-rowindex=\"${focusedElemRowIndex + y}\"]`);\n    if (targetRowElement !== null) {\n        const targetColElement = targetRowElement.querySelector(`[aria-colindex=\"${focusedElemColIndex + x}\"]`);\n        if (targetColElement !== null)\n            targetColElement.focus();\n    }\n}\nfunction a11yGetTargetElem(node) {\n    // Focused Element\n    const focusedElem = document.activeElement;\n    if (!focusedElem || !focusedElem.parentElement || !focusedElem.parentElement.ariaRowIndex)\n        return null;\n    const focusedElemRowIndex = parseInt(focusedElem.parentElement.ariaRowIndex);\n    // Return Target Element\n    return node.querySelector(`[aria-rowindex=\"${focusedElemRowIndex}\"]`);\n}\nfunction a11yJumpToOuterColumn(node, type = 'first') {\n    const targetRowElement = a11yGetTargetElem(node);\n    if (targetRowElement === null)\n        return;\n    const lastIndex = targetRowElement.children.length;\n    const selected = type === 'first' ? 1 : lastIndex;\n    const targetColElement = targetRowElement.querySelector(`[aria-colindex=\"${selected}\"]`);\n    if (targetColElement === null)\n        return;\n    targetColElement.focus();\n}\n","<script>import { createEventDispatcher } from \"svelte\";\nimport { tableA11y } from \"../../utilities/DataTable/actions.js\";\nconst dispatch = createEventDispatcher();\nexport let source;\nexport let interactive = false;\nexport let element = \"table\";\nexport let text = \"\";\nexport let color = \"\";\nexport let regionHead = \"\";\nexport let regionHeadCell = \"\";\nexport let regionBody = \"\";\nexport let regionCell = \"\";\nexport let regionFoot = \"\";\nexport let regionFootCell = \"\";\nfunction onRowClick(event, rowIndex) {\n  if (!interactive)\n    return;\n  event.preventDefault();\n  event.stopPropagation();\n  const rowMetaData = source.meta ? source.meta[rowIndex] : source.body[rowIndex];\n  dispatch(\"selected\", rowMetaData);\n}\nfunction onRowKeydown(event, rowIndex) {\n  if ([\"Enter\", \"Space\"].includes(event.code))\n    onRowClick(event, rowIndex);\n}\n$:\n  classesBase = `${$$props.class || \"\"}`;\n$:\n  classesTable = `${element} ${text} ${color}`;\n</script>\n\n<div class=\"table-container {classesBase}\">\n\t<!-- Table -->\n\t<!-- prettier-ignore -->\n\t<table\n\t\tclass=\"{classesTable}\"\n\t\tclass:table-interactive={interactive}\n\t\trole=\"grid\"\n\t\tuse:tableA11y\n\t>\n\t\t<!-- on:keydown={(e) => onTableKeydown(elemTable, e)} -->\n\t\t<!-- Head -->\n\t\t<thead class=\"table-head {regionHead}\">\n\t\t\t<tr>\n\t\t\t\t{#each source.head as heading }\n\t\t\t\t\t<th class=\"{regionHeadCell}\">{@html heading}</th>\n\t\t\t\t{/each}\n\t\t\t</tr>\n\t\t</thead>\n\t\t<!-- Body -->\n\t\t<tbody class=\"table-body {regionBody}\">\n\t\t\t{#each source.body as row, rowIndex}\n\t\t\t\t<!-- Row -->\n\t\t\t\t<!-- prettier-ignore -->\n\t\t\t\t<tr\n\t\t\t\t\ton:click={(e) => { onRowClick(e, rowIndex); }}\n\t\t\t\t\ton:keydown={(e) => { onRowKeydown(e, rowIndex); }}\n\t\t\t\t\taria-rowindex={rowIndex + 1}\n\t\t\t\t>\n\t\t\t\t\t{#each row as cell, cellIndex}\n\t\t\t\t\t\t<!-- Cell -->\n\t\t\t\t\t\t<!-- prettier-ignore -->\n\t\t\t\t\t\t<td\n\t\t\t\t\t\t\tclass=\"{regionCell}\"\n\t\t\t\t\t\t\trole=\"gridcell\"\n\t\t\t\t\t\t\taria-colindex={cellIndex + 1}\n\t\t\t\t\t\t\ttabindex={cellIndex === 0 ? 0 : -1}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{@html cell ? cell : '-'}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t{/each}\n\t\t\t\t</tr>\n\t\t\t{/each}\n\t\t</tbody>\n\t\t<!-- Foot -->\n\t\t{#if source.foot}\n\t\t\t<tfoot class=\"table-foot {regionFoot}\">\n\t\t\t\t<tr>\n\t\t\t\t\t{#each source.foot as cell }\n\t\t\t\t\t\t<td class=\"{regionFootCell}\">{@html cell}</td>\n\t\t\t\t\t{/each}\n\t\t\t\t</tr>\n\t\t\t</tfoot>\n\t\t{/if}\n\t</table>\n</div>\n"],"names":["tableA11y","node","keyWhitelist","onKeyDown","event","a11ySetActiveCell","a11yJumpToOuterColumn","x","y","focusedElem","focusedElemRowIndex","focusedElemColIndex","targetRowElement","targetColElement","a11yGetTargetElem","type","lastIndex","selected","ctx","insert_hydration","target","th","anchor","raw_value","attr","td","i","tr","each_value","tfoot","append_hydration","each_value_3","each_value_1","if_block","create_if_block","div","table","thead","tbody","dispatch","createEventDispatcher","source","$$props","interactive","element","text","color","regionHead","regionHeadCell","regionBody","regionCell","regionFoot","regionFootCell","onRowClick","rowIndex","rowMetaData","onRowKeydown","e","classesBase","classesTable"],"mappings":"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"}