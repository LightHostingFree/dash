{"version":3,"file":"stores.73e18257.js","sources":["../../../../../../node_modules/@skeletonlabs/skeleton/dist/utilities/Toast/stores.js"],"sourcesContent":["// Toast Store Queue\nimport { writable } from 'svelte/store';\nconst toastDefaults = { message: 'Missing Toast Message', autohide: true, timeout: 5000 };\n// Note for security; differentiates the queued toasts\nfunction randomUUID() {\n    const random = Math.random();\n    return Number(random).toString(32);\n}\n// If toast should auto-hide, wait X time, then close by ID\nfunction handleAutoHide(toast) {\n    if (toast.autohide === true) {\n        return setTimeout(() => {\n            toastStore.close(toast.id);\n        }, toast.timeout);\n    }\n}\nfunction toastService() {\n    const { subscribe, set, update } = writable([]);\n    return {\n        subscribe,\n        /** Add a new toast to the queue. */\n        trigger: (toast) => {\n            const id = randomUUID();\n            update((tStore) => {\n                // Trigger Callback\n                if (toast && toast.callback)\n                    toast.callback({ id, status: 'queued' });\n                // activate autohide when dismiss button is hidden.\n                if (toast.hideDismiss)\n                    toast.autohide = true;\n                // Merge with defaults\n                const tMerged = { ...toastDefaults, ...toast, id };\n                // Handle auto-hide, if needed\n                tMerged.timeoutId = handleAutoHide(tMerged);\n                // Push into store\n                tStore.push(tMerged);\n                // Return\n                return tStore;\n            });\n            return id;\n        },\n        /** Remove toast in queue*/\n        close: (id) => update((tStore) => {\n            if (tStore.length > 0) {\n                const index = tStore.findIndex((t) => t.id === id);\n                const selectedToast = tStore[index];\n                if (selectedToast) {\n                    // Trigger Callback\n                    if (selectedToast.callback)\n                        selectedToast.callback({ id, status: 'closed' });\n                    // Clear timeout\n                    if (selectedToast.timeoutId)\n                        clearTimeout(selectedToast.timeoutId);\n                    // Remove\n                    tStore.splice(index, 1);\n                }\n            }\n            return tStore;\n        }),\n        /** remain visible on hover */\n        freeze: (index) => update((tStore) => {\n            if (tStore.length > 0)\n                clearTimeout(tStore[index].timeoutId);\n            return tStore;\n        }),\n        /** cancel remain visible on leave */\n        unfreeze: (index) => update((tStore) => {\n            if (tStore.length > 0)\n                tStore[index].timeoutId = handleAutoHide(tStore[index]);\n            return tStore;\n        }),\n        /** Remove all toasts from queue */\n        clear: () => set([])\n    };\n}\nexport const toastStore = toastService();\n"],"names":["toastDefaults","randomUUID","random","handleAutoHide","toast","toastStore","toastService","subscribe","set","update","writable","id","tStore","tMerged","index","t","selectedToast"],"mappings":"wCAEA,MAAMA,EAAgB,CAAE,QAAS,wBAAyB,SAAU,GAAM,QAAS,KAEnF,SAASC,GAAa,CAClB,MAAMC,EAAS,KAAK,SACpB,OAAO,OAAOA,CAAM,EAAE,SAAS,EAAE,CACrC,CAEA,SAASC,EAAeC,EAAO,CAC3B,GAAIA,EAAM,WAAa,GACnB,OAAO,WAAW,IAAM,CACpBC,EAAW,MAAMD,EAAM,EAAE,CACrC,EAAWA,EAAM,OAAO,CAExB,CACA,SAASE,GAAe,CACpB,KAAM,CAAE,UAAAC,EAAW,IAAAC,EAAK,OAAAC,CAAM,EAAKC,EAAS,CAAA,CAAE,EAC9C,MAAO,CACH,UAAAH,EAEA,QAAUH,GAAU,CAChB,MAAMO,EAAKV,IACX,OAAAQ,EAAQG,GAAW,CAEXR,GAASA,EAAM,UACfA,EAAM,SAAS,CAAE,GAAAO,EAAI,OAAQ,QAAU,CAAA,EAEvCP,EAAM,cACNA,EAAM,SAAW,IAErB,MAAMS,EAAU,CAAE,GAAGb,EAAe,GAAGI,EAAO,GAAAO,CAAE,EAEhD,OAAAE,EAAQ,UAAYV,EAAeU,CAAO,EAE1CD,EAAO,KAAKC,CAAO,EAEZD,CACvB,CAAa,EACMD,CACV,EAED,MAAQA,GAAOF,EAAQG,GAAW,CAC9B,GAAIA,EAAO,OAAS,EAAG,CACnB,MAAME,EAAQF,EAAO,UAAWG,GAAMA,EAAE,KAAOJ,CAAE,EAC3CK,EAAgBJ,EAAOE,CAAK,EAC9BE,IAEIA,EAAc,UACdA,EAAc,SAAS,CAAE,GAAAL,EAAI,OAAQ,QAAU,CAAA,EAE/CK,EAAc,WACd,aAAaA,EAAc,SAAS,EAExCJ,EAAO,OAAOE,EAAO,CAAC,EAE7B,CACD,OAAOF,CACnB,CAAS,EAED,OAASE,GAAUL,EAAQG,IACnBA,EAAO,OAAS,GAChB,aAAaA,EAAOE,CAAK,EAAE,SAAS,EACjCF,EACV,EAED,SAAWE,GAAUL,EAAQG,IACrBA,EAAO,OAAS,IAChBA,EAAOE,CAAK,EAAE,UAAYX,EAAeS,EAAOE,CAAK,CAAC,GACnDF,EACV,EAED,MAAO,IAAMJ,EAAI,EAAE,CAC3B,CACA,CACY,MAACH,EAAaC,EAAY"}