{"version":3,"file":"4-59bbc05b.js","sources":["../../../.svelte-kit/adapter-node/nodes/4.js","../../../../src/routes/domains/[domain]/+page.server.js","../../../../src/routes/domains/[domain]/+page.server.js"],"sourcesContent":["import * as server from '../entries/pages/domains/_domain_/_page.server.js';\n\nexport const index = 4;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/domains/_domain_/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/domains/[domain]/+page.server.js\";\nexport const imports = [\"_app/immutable/nodes/4.fa08c708.js\",\"_app/immutable/chunks/index.c676ab83.js\",\"_app/immutable/chunks/public.e27fc8de.js\",\"_app/immutable/chunks/paths.6e21c0d1.js\",\"_app/immutable/chunks/stores.848b0f50.js\",\"_app/immutable/chunks/index.0d35ad8e.js\",\"_app/immutable/chunks/ProgressBar.svelte_svelte_type_style_lang.314e35e5.js\",\"_app/immutable/chunks/index.3cde08c5.js\",\"_app/immutable/chunks/Modal.43f3f8c9.js\",\"_app/immutable/chunks/sentry-release-injection-file.7de3efab.js\"];\nexport const stylesheets = [\"_app/immutable/assets/ProgressBar.4f1e9ba5.css\"];\nexport const fonts = [];\n","import { wrapServerLoadWithSentry } from \"@sentry/sveltekit\";import * as userModule from \"/home/mayankreal657/dash/src/routes/domains/[domain]/+page.server.js\";export const load = userModule.load ? wrapServerLoadWithSentry(userModule.load) : undefined;export * from \"/home/mayankreal657/dash/src/routes/domains/[domain]/+page.server.js\";","import { getJWT } from '$lib/jwt.js';\nimport { redirect } from '@sveltejs/kit';\nimport { DomainInfo } from '$lib/api.js';\nimport { getHosting } from '$lib/api.js';\nexport async function load({ cookies, params }) {\n\tlet jwt = cookies.get('jwt');\n\tlet user = getJWT(jwt);\n\tif (!user) throw redirect(303, '/login');\n\tlet hosting = await getHosting(jwt, params.domain);\n\tlet domain = await DomainInfo(params.domain);\n\tif (domain.error) throw redirect(303, '/domains');\n\tif (domain.owner.username.toLowerCase() !== user.user.login.toLowerCase())\n\t\tthrow redirect(303, '/domains');\n\treturn {\n\t\tuser: user.user,\n\t\tdomain: {\n\t\t\tname: params.domain,\n\t\t\t...domain\n\t\t},\n\t\thosting: hosting,\n\t\tjwt: jwt\n\t};\n}\n"],"names":["userModule.load","load"],"mappings":";;;;;;;;;AEIO,eAAeC,MAAtB,CAA2B,EAAE,OAA7B,EAAsC,MAAtC,EAAA,EAAgD;AAC/C,EAAD,IAAK,GAAL,GAAW,OAAX,CAAmB,GAAnB,CAAuB,KAAK,CAA5B,CAAA;AACC,EAAD,IAAK,IAAL,GAAY,MAAZ,CAAmB,GAAG,CAAtB,CAAA;AACC,EAAD,IAAK,CAAC,IAAN;AAAY,IAAZ,MAAkB,QAAlB,CAA2B,GAA3B,EAAgC,QAAQ,CAAxC,CAAA;AACC,EAAD,IAAK,OAAL,GAAe,MAAM,UAArB,CAAgC,GAAhC,EAAqC,MAArC,CAA4C,MAAM,CAAlD,CAAA;AACC,EAAD,IAAK,MAAL,GAAc,MAAM,UAApB,CAA+B,MAA/B,CAAsC,MAAM,CAA5C,CAAA;AACC,EAAD,IAAK,MAAL,CAAY,KAAZ;AAAmB,IAAnB,MAAyB,QAAzB,CAAkC,GAAlC,EAAuC,UAAU,CAAjD,CAAA;AACC,EAAD,IAAK,MAAL,CAAY,KAAZ,CAAkB,QAAlB,CAA2B,WAA3B,EAAA,KAA6C,IAA7C,CAAkD,IAAlD,CAAuD,KAAvD,CAA6D,WAA7D,EAAA;AACE,IAAF,MAAQ,QAAR,CAAiB,GAAjB,EAAsB,UAAU,CAAhC,CAAA;AACC,EAAD,OAAQ;AAAA,IACN,IADF,EACQ,IADR,CACa,IADb;AACa,IACX,MADF,EACU;AAAA,MACP,IADH,EACS,MADT,CACgB,MADhB;AACgB,MACb,GAAG,MADN;AACM,KAAN;AACG,IACD,OADF;AACE,IACA,GADF;AACE,GAAF,CAAA;AAEA,CAAA;ADtBA,MAAA,IAAA,GAAAD,MAAA,GAAA,wBAAA,CAAAA,MAAA,CAAA,GAAA,KAAA,CAAA;;;;;;;ADEY,MAAC,KAAK,GAAG,EAAE;AACvB,IAAI,eAAe,CAAC;AACR,MAAC,SAAS,GAAG,YAAY,eAAe,KAAK,CAAC,MAAM,OAAO,4BAAmD,CAAC,EAAE,QAAQ;AAEzH,MAAC,SAAS,GAAG,8CAA8C;AAC3D,MAAC,OAAO,GAAG,CAAC,oCAAoC,CAAC,yCAAyC,CAAC,0CAA0C,CAAC,yCAAyC,CAAC,0CAA0C,CAAC,yCAAyC,CAAC,6EAA6E,CAAC,yCAAyC,CAAC,yCAAyC,CAAC,iEAAiE,EAAE;AAC1e,MAAC,WAAW,GAAG,CAAC,gDAAgD,EAAE;AAClE,MAAC,KAAK,GAAG;;;;"}