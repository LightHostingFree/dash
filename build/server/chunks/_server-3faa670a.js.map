{"version":3,"file":"_server-3faa670a.js","sources":["../../../../src/routes/api/fork/+server.js"],"sourcesContent":["import { json } from '@sveltejs/kit';\nimport { getJWT } from '$lib/jwt.js';\nimport { forkRepo } from '$lib/api.js';\nexport async function GET({ cookies, url }) {\n\tlet apiKey;\n\n\tlet jwt = cookies.get('jwt');\n\tlet session = getJWT(jwt);\n\n\tif (!session && url.searchParams.get('apikey')) apiKey = url.searchParams.get('key');\n\telse if (!session) return json({ error: 'No session or api key provided' }, 400);\n\telse apiKey = session.token;\n\n\tlet response = await forkRepo(apiKey);\n\n\tif (response.error) return json(response, 400);\n\telse return json(response, 200);\n}\n"],"names":[],"mappings":";;;;;;;;AAGA,eAAA,GAAA,CAAA,EAAA,OAAA,EAAA,GAAA,EAAA,EAAA;AACA,EAAA,IAAA,MAAA,CAAA;AAEA,EAAA,IAAA,GAAA,GAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,CAAA;AACA,EAAA,IAAA,OAAA,GAAA,MAAA,CAAA,GAAA,CAAA,CAAA;AAEA,EAAA,IAAA,CAAA,OAAA,IAAA,GAAA,CAAA,YAAA,CAAA,GAAA,CAAA,QAAA,CAAA;AAAA,IAAA,MAAA,GAAA,GAAA,CAAA,YAAA,CAAA,GAAA,CAAA,KAAA,CAAA,CAAA;AAAA,OAAA,IACA,CAAA,OADA;AACA,IAAA,OAAA,IAAA,CAAA,EAAA,KAAA,EAAA,gCAAA,EAAA,EAAA,GAAA,CAAA,CAAA;AAAA;AACA,IAAA,MAAA,GAAA,OAAA,CAAA,KAAA,CAAA;AAEA,EAAA,IAAA,QAAA,GAAA,MAAA,QAAA,CAAA,MAAA,CAAA,CAAA;AAEA,EAAA,IAAA,QAAA,CAAA,KAAA;AAAA,IAAA,OAAA,IAAA,CAAA,QAAA,EAAA,GAAA,CAAA,CAAA;AAAA;AACA,IAAA,OAAA,IAAA,CAAA,QAAA,EAAA,GAAA,CAAA,CAAA;AACA;;;;"}